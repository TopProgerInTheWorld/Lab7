<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport">
	<title>Document</title>
	<script>
		var x = 50, y = 50;
		var canvas;
		var ctx;
		var s = 10, p = 10;


		function init() {
			canvas = document.getElementById('canvas');
			ctx = canvas.getContext('2d');
			ctx.fillStyle = "red";
			ctx.fillRect(x, y, s, p);
			ctx.strokeStyle = 'black';
			ctx.strokeRect(0, 0, 640, 480);


			document.addEventListener("keydown", move);
			document.getElementById("x").value = "x=" + x;
			document.getElementById("y").value = "y=" + y;
		}

		function selectColor(color) {
			if (color == "red") {
				ctx.fillStyle = "red";
				ctx.fillRect(x, y, s, p);
			}
			else if (color == "green") {
				ctx.fillStyle = "green";
				ctx.fillRect(x, y, s, p);
			}
			else {
				ctx.fillStyle = "blue";
				ctx.fillRect(x, y, s, p);
			}
		}

		function move(event) {
			ctx.clearRect(x, y, s, p);
			if (event.keyCode == 38) {
				if (0 < y - 5 && y - 5 < 460) { y -= 5 }
			}
			else if (event.keyCode == 40) {
				if (0 < y + 5 && y + 5 < 460) { y += 5 }
			}
			else if (event.keyCode == 39) {
				if (0 < x + 5 && x + 5 < 620) { x += 5 }
			}
			else if (event.keyCode == 37) {
				if (0 < x - 5 && x - 5 < 620) { x -= 5 }
			}
			else if (event.keyCode == 66) { s =30, p=30 }
			else if (event.keyCode == 77) { s =20, p=20 }
			else if (event.keyCode == 83) { s =10, p=10 }
			else if (event.keyCode == 49) { selectColor('red') }
			else if (event.keyCode == 50) { selectColor('blue') }
			else if (event.keyCode == 51) { selectColor('green') }
			document.getElementById("x").value = "x=" + x;
			document.getElementById("y").value = "y=" + y;
			ctx.fillRect(x, y, s, p);
		}





	</script>
</head>

<body onload="init();">
	<input type="text" id="x"></input>
	<input type="text" id="y"></input>
	<br>
	<canvas id="canvas" width="640" height="480"></canvas>

</body>

</html>